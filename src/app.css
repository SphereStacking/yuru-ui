@import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@300;400;500;700&display=swap');
@import "tailwindcss" prefix(yr);

/* ============================================
   Tailwind CSS v4 テーマトークン
   ============================================ */
@theme {
  /* --- Primary: Mint Green --- */
  --color-primary-50: #edfff2;
  --color-primary-100: #ddffe7;
  --color-primary-200: #b0ffc4;
  --color-primary-300: #80efa2;
  --color-primary-400: #55d47a;
  --color-primary-500: #38b45c;
  --color-primary-600: #2a9048;
  --color-primary-700: #4a9960;
  --color-primary-800: #1a6530;
  --color-primary-900: #0e3a1c;

  /* --- Secondary: Pink --- */
  --color-secondary-50: #fff5f9;
  --color-secondary-100: #ffe8f1;
  --color-secondary-200: #ffd4e8;
  --color-secondary-300: #ffb0d0;
  --color-secondary-400: #ff88b5;
  --color-secondary-500: #e06090;
  --color-secondary-600: #c04878;
  --color-secondary-700: #995577;
  --color-secondary-800: #703050;
  --color-secondary-900: #401828;

  /* --- Tertiary: Lavender --- */
  --color-tertiary-50: #f8f5ff;
  --color-tertiary-100: #f0e8ff;
  --color-tertiary-200: #e0d4ff;
  --color-tertiary-300: #c8b0ff;
  --color-tertiary-400: #a888e8;
  --color-tertiary-500: #8866cc;
  --color-tertiary-600: #7050b0;
  --color-tertiary-700: #665599;
  --color-tertiary-800: #483870;
  --color-tertiary-900: #281840;

  /* --- Gray: Green-tinted --- */
  --color-gray-50: #f6fef8;
  --color-gray-100: #eef7f0;
  --color-gray-200: #d2f0da;
  --color-gray-300: #afd9b8;
  --color-gray-400: #8baa94;
  --color-gray-500: #6a8873;
  --color-gray-600: #4d6855;
  --color-gray-700: #3d5a44;
  --color-gray-800: #2a3d30;
  --color-gray-900: #0e1810;

  /* --- Semantic Colors --- */
  --color-success: #ddffd5;
  --color-success-text: #4a8040;
  --color-warning: #fff6d5;
  --color-warning-text: #8a7030;
  --color-error: #ffd5d5;
  --color-error-text: #8a4040;
  --color-info: #d5ecff;
  --color-info-text: #406080;

  /* --- Accent Colors (flat bg + text) --- */
  --color-accent-mint: #b0ffc4;
  --color-accent-mint-text: #4a9960;
  --color-accent-pink: #ffd4e8;
  --color-accent-pink-text: #995577;
  --color-accent-lavender: #e0d4ff;
  --color-accent-lavender-text: #665599;
  --color-accent-peach: #ffe4cc;
  --color-accent-peach-text: #886644;
  --color-accent-sky: #ccedff;
  --color-accent-sky-text: #446688;
  --color-accent-lemon: #fff6d5;
  --color-accent-lemon-text: #887744;

  /* --- Spacing --- */
  --spacing-2xs: 4px;
  --spacing-xs: 8px;
  --spacing-sm: 12px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;
  --spacing-3xl: 64px;
  --spacing-4xl: 96px;

  /* --- Border Radius (static) --- */
  --radius-sm: 8px;
  --radius-md: 14px;
  --radius-lg: 20px;
  --radius-xl: 28px;
  --radius-full: 50px;
  --radius-circle: 50%;

  /* --- Shadows (defaults) --- */
  --shadow-sm: 0 2px 8px rgba(142, 220, 170, 0.08);
  --shadow-md: 0 4px 20px rgba(142, 220, 170, 0.10);
  --shadow-lg: 0 8px 32px rgba(142, 220, 170, 0.14);
  --shadow-xl: 0 16px 48px rgba(142, 220, 170, 0.18);

  /* --- Font --- */
  --font-sans: 'M PLUS Rounded 1c', sans-serif;
}

/* ============================================
   Custom Variants
   ============================================ */
@custom-variant dark (&:is(.yr-dark *));
@custom-variant theme-hoyo (&:is([data-theme="hoyo"] *));
@custom-variant theme-pishi (&:is([data-theme="pishi"] *));

/* ============================================
   Base Layer
   ============================================ */
@layer base {
  *,
  *::before,
  *::after {
    border-color: var(--color-gray-200);
  }

  .yr-dark *,
  .yr-dark *::before,
  .yr-dark *::after {
    border-color: var(--color-gray-700);
  }

  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* ============================================
   Shared Keyframes
   ============================================ */
@keyframes yr-dropdown-in {
  from { opacity: 0; transform: translateY(-4px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes yr-skeleton-pulse {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* ============================================
   Animation Utilities
   ============================================ */
@utility animate-dropdown-in {
  animation: yr-dropdown-in var(--yr-transition-speed, 0.15s) var(--yr-transition-ease, ease);
}

@utility animate-skeleton-pulse {
  animation: yr-skeleton-pulse 1.5s ease-in-out infinite;
}

/* ============================================
   Custom Utilities (theme CSS vars → classes)
   ============================================ */

/* Border Radius */
@utility rounded-button {
  border-radius: var(--yr-radius-button);
}
@utility rounded-input {
  border-radius: var(--yr-radius-input);
}
@utility rounded-card {
  border-radius: var(--yr-radius-card);
}
@utility rounded-default {
  border-radius: var(--yr-radius-default);
}
@utility rounded-avatar {
  border-radius: var(--yr-radius-avatar);
}

/* Filters */
@utility filter-card {
  filter: var(--yr-filter-card);
}
@utility filter-default {
  filter: var(--yr-filter-default);
}
@utility filter-button {
  filter: var(--yr-filter-button);
}

/* Theme Shadows */
@utility shadow-theme-sm {
  box-shadow: var(--yr-shadow-sm);
}
@utility shadow-theme-md {
  box-shadow: var(--yr-shadow-md);
}
@utility shadow-theme-lg {
  box-shadow: var(--yr-shadow-lg);
}
@utility shadow-theme-xl {
  box-shadow: var(--yr-shadow-xl);
}

/* Typography */
@utility font-heading {
  font-weight: var(--yr-font-weight-heading);
}
@utility font-body {
  font-weight: var(--yr-font-weight-body);
}
@utility font-small {
  font-weight: var(--yr-font-weight-small);
}

/* Transition */
@utility transition-theme {
  transition-duration: var(--yr-transition-speed);
  transition-timing-function: var(--yr-transition-ease);
}

/* Border */
@utility border-theme {
  border-width: var(--yr-border-width);
}

/* Letter Spacing */
@utility tracking-theme {
  letter-spacing: var(--yr-letter-spacing);
}

/* Font Feature */
@utility font-feature-theme {
  font-feature-settings: var(--yr-font-feature, normal);
}

/* ============================================
   ほよ（hoyo）テーマ — デフォルト
   ============================================ */
[data-theme="hoyo"] {
  --yr-radius-button: 16px 26px 18px 28px / 26px 16px 28px 18px;
  --yr-radius-input: 14px 24px 16px 26px / 24px 14px 26px 16px;
  --yr-radius-card: 20px 34px 22px 38px / 34px 20px 38px 22px;
  --yr-radius-default: 18px 30px 20px 34px / 30px 18px 34px 20px;
  --yr-radius-avatar: 45% 55% 50% 50% / 55% 45% 50% 50%;

  --yr-filter-card: url(#wobbly-subtle);
  --yr-filter-default: url(#wobbly-subtle);
  --yr-filter-button: none;

  --yr-shadow-sm: 0 2px 8px rgba(142, 220, 170, 0.08);
  --yr-shadow-md: 0 4px 20px rgba(142, 220, 170, 0.10);
  --yr-shadow-lg: 0 8px 32px rgba(142, 220, 170, 0.14);
  --yr-shadow-xl: 0 16px 48px rgba(142, 220, 170, 0.18);

  --yr-font-weight-heading: 500;
  --yr-font-weight-body: 400;
  --yr-font-weight-small: 300;

  --yr-transition-speed: 0.2s;
  --yr-transition-ease: cubic-bezier(0.34, 1.2, 0.64, 1);

  --yr-divider-style: wavy;
  --yr-border-width: 1.5px;
  --yr-letter-spacing: 0.03em;
  --yr-font-feature: 'palt';
}

/* ============================================
   ぴし（pishi）テーマ
   ============================================ */
[data-theme="pishi"] {
  --yr-radius-button: 12px;
  --yr-radius-input: 12px;
  --yr-radius-card: 16px;
  --yr-radius-default: 14px;
  --yr-radius-avatar: 8px;

  --yr-filter-card: none;
  --yr-filter-default: none;
  --yr-filter-button: none;

  --yr-shadow-sm: 0 1px 3px rgba(142, 220, 170, 0.06);
  --yr-shadow-md: 0 2px 8px rgba(142, 220, 170, 0.08);
  --yr-shadow-lg: 0 4px 16px rgba(142, 220, 170, 0.10);
  --yr-shadow-xl: 0 8px 24px rgba(142, 220, 170, 0.14);

  --yr-font-weight-heading: 600;
  --yr-font-weight-body: 400;
  --yr-font-weight-small: 400;

  --yr-transition-speed: 0.12s;
  --yr-transition-ease: ease-out;

  --yr-divider-style: straight;
  --yr-border-width: 1px;
  --yr-letter-spacing: 0;
  --yr-font-feature: normal;
}

/* ============================================
   ダークモード — テーマ別シャドウ override
   ============================================ */
.yr-dark [data-theme="hoyo"] {
  --yr-shadow-sm: 0 2px 8px rgba(80, 180, 120, 0.06);
  --yr-shadow-md: 0 4px 20px rgba(80, 180, 120, 0.08);
  --yr-shadow-lg: 0 8px 32px rgba(80, 180, 120, 0.10);
  --yr-shadow-xl: 0 16px 48px rgba(80, 180, 120, 0.12);
}

.yr-dark [data-theme="pishi"] {
  --yr-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.2);
  --yr-shadow-md: 0 2px 8px rgba(0, 0, 0, 0.25);
  --yr-shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.3);
  --yr-shadow-xl: 0 8px 24px rgba(0, 0, 0, 0.35);
}

@media (prefers-color-scheme: dark) {
  [data-theme="hoyo"] {
    --yr-shadow-sm: 0 2px 8px rgba(80, 180, 120, 0.06);
    --yr-shadow-md: 0 4px 20px rgba(80, 180, 120, 0.08);
    --yr-shadow-lg: 0 8px 32px rgba(80, 180, 120, 0.10);
    --yr-shadow-xl: 0 16px 48px rgba(80, 180, 120, 0.12);
  }

  [data-theme="pishi"] {
    --yr-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.2);
    --yr-shadow-md: 0 2px 8px rgba(0, 0, 0, 0.25);
    --yr-shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.3);
    --yr-shadow-xl: 0 8px 24px rgba(0, 0, 0, 0.35);
  }
}
